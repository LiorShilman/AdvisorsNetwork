<div class="flex items-start gap-3 justify-end w-full text-right user-message">
  <div class="from-cyan-700 to-cyan-600 rounded-2xl px-5 py-4 text-white shadow-lg message-bubble relative group transition-all duration-300 hover:shadow-xl">
    
    <!-- כפתורי עריכה/מחיקה -->
    <div class="absolute left-2 top-2 hidden group-hover:flex gap-2 opacity-0 group-hover:opacity-100 transition-all">
      <button (click)="onEdit?.()" *ngIf="isLastUserMessage"
              class="text-white hover:text-gray-200 bg-gray-800 bg-opacity-70 rounded-full p-1.5 transform hover:scale-110"
              title="ערוך הודעה">
        ✏️
      </button>
      <button (click)="onDelete?.()" *ngIf="isLastUserMessage"
              class="text-white hover:text-gray-200 bg-gray-800 bg-opacity-70 rounded-full p-1.5 transform hover:scale-110"
              title="מחק הודעה">
        🗑️
      </button>
    </div>

    <div class="text-sm font-bold mb-2">אתה</div>

    <div class="text-sm message-content">
      <markdown [data]="formatMarkdown(msg.text)" class="text-right prose prose-invert max-w-none"></markdown>
    </div>
  </div>

  <img src="assets/images/user-avatar.png" alt="User Avatar"
       class="rounded-full object-cover shadow-lg mt-1 transition-transform hover:scale-105"
       style="width:100px; height:175px;" />
</div>
